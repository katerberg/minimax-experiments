(()=>{"use strict";var e={65:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(81),c=o.n(n),r=o(645),a=o.n(r)()(c());a.push([e.id,"*{box-sizing:border-box}html,body{height:100%;width:100%;margin:0;padding:0}#start-screen h1{margin-top:0}#game canvas{background:#dfdfdf}#game.vertical-constraint>canvas{width:auto;height:calc(100vh - 112px)}#game.horizontal-constraint>canvas{width:100%;height:auto}.selectors{display:flex;margin:8px}.selectors>*{margin-right:8px}.calculations{display:flex}",""]);const i=a},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var o="",n=void 0!==t[5];return t[4]&&(o+="@supports (".concat(t[4],") {")),t[2]&&(o+="@media ".concat(t[2]," {")),n&&(o+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),o+=e(t),n&&(o+="}"),t[2]&&(o+="}"),t[4]&&(o+="}"),o})).join("")},t.i=function(e,o,n,c,r){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(n)for(var i=0;i<this.length;i++){var s=this[i][0];null!=s&&(a[s]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);n&&a[u[0]]||(void 0!==r&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=r),o&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=o):u[2]=o),c&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=c):u[4]="".concat(c)),t.push(u))}},t}},81:e=>{e.exports=function(e){return e[1]}},744:(e,t,o)=>{o.r(t),o.d(t,{default:()=>h});var n=o(379),c=o.n(n),r=o(795),a=o.n(r),i=o(569),s=o.n(i),l=o(565),u=o.n(l),d=o(216),f=o.n(d),v=o(589),m=o.n(v),g=o(65),p={};p.styleTagTransform=m(),p.setAttributes=u(),p.insert=s().bind(null,"head"),p.domAPI=a(),p.insertStyleElement=f(),c()(g.Z,p);const h=g.Z&&g.Z.locals?g.Z.locals:void 0},379:e=>{var t=[];function o(e){for(var o=-1,n=0;n<t.length;n++)if(t[n].identifier===e){o=n;break}return o}function n(e,n){for(var r={},a=[],i=0;i<e.length;i++){var s=e[i],l=n.base?s[0]+n.base:s[0],u=r[l]||0,d="".concat(l," ").concat(u);r[l]=u+1;var f=o(d),v={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==f)t[f].references++,t[f].updater(v);else{var m=c(v,n);n.byIndex=i,t.splice(i,0,{identifier:d,updater:m,references:1})}a.push(d)}return a}function c(e,t){var o=t.domAPI(t);return o.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;o.update(e=t)}else o.remove()}}e.exports=function(e,c){var r=n(e=e||[],c=c||{});return function(e){e=e||[];for(var a=0;a<r.length;a++){var i=o(r[a]);t[i].references--}for(var s=n(e,c),l=0;l<r.length;l++){var u=o(r[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}r=s}}},569:e=>{var t={};e.exports=function(e,o){var n=function(e){if(void 0===t[e]){var o=document.querySelector(e);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}t[e]=o}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(o)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,o)=>{e.exports=function(e){var t=o.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(o){!function(e,t,o){var n="";o.supports&&(n+="@supports (".concat(o.supports,") {")),o.media&&(n+="@media ".concat(o.media," {"));var c=void 0!==o.layer;c&&(n+="@layer".concat(o.layer.length>0?" ".concat(o.layer):""," {")),n+=o.css,c&&(n+="}"),o.media&&(n+="}"),o.supports&&(n+="}");var r=o.sourceMap;r&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,o)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},354:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getAvailableMoves=void 0,t.getAvailableMoves=function(e){for(var t=[],o=0;o<e.columns;o++)for(var n=0;n<e.rows;n++)void 0===e.selections["".concat(o,",").concat(n)]&&t.push({x:o,y:n});return t}},606:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.numberCoordsToCoords=t.coordsToNumberCoords=void 0,t.coordsToNumberCoords=function(e){var t=e.split(","),o=t[0],n=t[1];return{x:Number.parseInt(o,10),y:Number.parseInt(n,10)}},t.numberCoordsToCoords=function(e){return"".concat(e.x,",").concat(e.y)}},771:function(e,t,o){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var c in t=arguments[o])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.getBestMove=void 0;var c=o(354),r=o(606),a=o(274);t.getBestMove=function e(t,o,i){void 0===i&&(i=0);var s=o||"x"===t.currentPlayer;if(i>12)return console.log("too deep"),{bestScore:0,bestMove:{x:0,y:0}};if(s){for(var l=(0,c.getAvailableMoves)(t),u=l[0],d=-1e6,f=0;f<l.length;f++){console.log("current best",d,"depth",i);var v=l[f];if((h=n(n({},t),{currentPlayer:"o",selections:n({},t.selections)})).selections[(0,r.numberCoordsToCoords)(v)]="x",(b=(0,a.checkTerminal)(h)).isTerminal){if(b.isWinner){console.log("found terminal state for x",v.x,v.y,"depth",i),d=1e6-i,u=v;break}b.isCat&&0>d&&(console.log("cat is best maximizing score","depth",i),d=0,u=v)}else console.log("checking best move after playing x in move",v.x,v.y),(y=e(h,!1,i+1)).bestScore>d&&(console.log("new best maximizing score",y.bestScore,"depth",i),d=y.bestScore,u=v)}return console.log("returning best maxing",d,"best move",u,"depth",i),{bestScore:d,bestMove:u}}var m=(0,c.getAvailableMoves)(t),g=m[0],p=1e6;for(f=0;f<m.length;f++){var h,b;if(console.log("current minimizing best",p,"depth",i),v=m[f],(h=n(n({},t),{currentPlayer:"x",selections:n({},t.selections)})).selections[(0,r.numberCoordsToCoords)(v)]="o",(b=(0,a.checkTerminal)(h)).isTerminal){if(b.isWinner){console.log("found terminal state for o",v.x,v.y,"depth",i),p=-1e6+i,g=v;break}b.isCat&&0<p&&(console.log("cat is best minimizing score","depth",i),p=0,g=v)}else{var y;console.log("checking best move after playing o in move",v.x,v.y),(y=e(h,!0,i+1)).bestScore<p&&(console.log("new best minimizing score",y.bestScore,"depth",i),p=y.bestScore,g=v)}}return console.log("returning best minning",p,"best move",g,"depth",i),{bestScore:p,bestMove:g}}},274:(e,t)=>{function o(e,t,o){return function(e,t,o){for(var n=0;n<t;n++)for(var c=0;c<o-2;c++)if("x"===e["".concat(n,",").concat(c)]&&"x"===e["".concat(n,",").concat(c+1)]&&"x"===e["".concat(n,",").concat(c+2)]||"o"===e["".concat(n,",").concat(c)]&&"o"===e["".concat(n,",").concat(c+1)]&&"o"===e["".concat(n,",").concat(c+2)])return!0;return!1}(e,t,o)||function(e,t,o){for(var n=0;n<t-2;n++)for(var c=0;c<o;c++)if("x"===e["".concat(n,",").concat(c)]&&"x"===e["".concat(n+1,",").concat(c)]&&"x"===e["".concat(n+2,",").concat(c)]||"o"===e["".concat(n,",").concat(c)]&&"o"===e["".concat(n+1,",").concat(c)]&&"o"===e["".concat(n+2,",").concat(c)])return!0;return!1}(e,t,o)||function(e,t,o){for(var n=0;n<t-2;n++)for(var c=0;c<o-2;c++)if("x"===e["".concat(n,",").concat(c)]&&"x"===e["".concat(n+1,",").concat(c+1)]&&"x"===e["".concat(n+2,",").concat(c+2)]||"o"===e["".concat(n,",").concat(c)]&&"o"===e["".concat(n+1,",").concat(c+1)]&&"o"===e["".concat(n+2,",").concat(c+2)])return!0;return!1}(e,t,o)||function(e,t,o){for(var n=2;n<t;n++)for(var c=0;c<o-2;c++)if("x"===e["".concat(n,",").concat(c)]&&"x"===e["".concat(n-1,",").concat(c+1)]&&"x"===e["".concat(n-2,",").concat(c+2)]||"o"===e["".concat(n,",").concat(c)]&&"o"===e["".concat(n-1,",").concat(c+1)]&&"o"===e["".concat(n-2,",").concat(c+2)])return!0;return!1}(e,t,o)}function n(e,t,o){return Object.keys(e).length===t*o}function c(e,t,o){for(var n=0,c=0;c<o;c++)"x"===e["".concat(t,",").concat(c)]?"x"===e["".concat(t,",").concat(c+1)]?"x"===e["".concat(t,",").concat(c+2)]?(n+=1e5,c+=2):(n+=10,c++):n+=1:"o"===e["".concat(t,",").concat(c)]&&("o"===e["".concat(t,",").concat(c+1)]?"o"===e["".concat(t,",").concat(c+2)]?(n-=1e5,c+=2):(n-=10,c++):n-=1);return n}function r(e,t,o){for(var n=0,c=0;c<t;c++)"x"===e["".concat(c,",").concat(o)]?"x"===e["".concat(c+1,",").concat(o)]?"x"===e["".concat(c+2,",").concat(o)]?(n+=1e5,c+=2):(n+=10,c++):n+=1:"o"===e["".concat(c,",").concat(o)]&&("o"===e["".concat(c+1,",").concat(o)]?"o"===e["".concat(c+2,",").concat(o)]?(n-=1e5,c+=2):(n-=10,c++):n-=1);return n}function a(e,t,o){for(var n=0,r=0;r<t;r++)n+=c(e,r,o);return n}function i(e,t,o){for(var n=0,c=0;c<o;c++)n+=r(e,t,c);return n}function s(e,t,o,n){for(var c=n.x,r=n.y,a=0;c<t&&r<o;)"x"===e["".concat(c,",").concat(r)]?"x"===e["".concat(c+1,",").concat(r+1)]?"x"===e["".concat(c+2,",").concat(r+2)]?(a+=1e5,c+=3,r+=3):(a+=10,c+=2,r+=2):(a+=1,c+=1,r+=1):"o"===e["".concat(c,",").concat(r)]?"o"===e["".concat(c+1,",").concat(r+1)]?"o"===e["".concat(c+2,",").concat(r+2)]?(a-=1e5,c+=3,r+=3):(a-=10,c+=2,r+=2):(a-=1,c+=1,r+=1):(c+=1,r+=1);return a}function l(e,t,o){for(var n=0,c=0;c<t;c++)n+=s(e,t,o,{x:c,y:0});for(var r=1;r<o;r++)n+=s(e,t,o,{x:0,y:r});return n}function u(e,t,o,n){for(var c=n.x,r=n.y,a=0;c>=0&&r<o;)"x"===e["".concat(c,",").concat(r)]?"x"===e["".concat(c-1,",").concat(r+1)]?"x"===e["".concat(c-2,",").concat(r+2)]?(a+=1e5,c-=3,r+=3):(a+=10,c-=2,r+=2):(a+=1,c-=1,r+=1):"o"===e["".concat(c,",").concat(r)]?"o"===e["".concat(c-1,",").concat(r+1)]?"o"===e["".concat(c-2,",").concat(r+2)]?(a-=1e5,c-=3,r+=3):(a-=10,c-=2,r+=2):(a-=1,c-=1,r+=1):(c-=1,r+=1);return a}function d(e,t,o){for(var n=0,c=0;c<t;c++)n+=u(e,0,o,{x:c,y:0});for(var r=1;r<o;r++)n+=u(e,0,o,{x:3,y:r});return n}Object.defineProperty(t,"__esModule",{value:!0}),t.getTotalScore=t.getTotalReverseDiagonalScore=t.getTotalDiagonalScore=t.getDiagonalScore=t.getTotalRowScore=t.getTotalColumnScore=t.getRowScore=t.getColumnScore=t.checkTerminal=t.isCat=t.isWin=void 0,t.isWin=o,t.isCat=n,t.checkTerminal=function(e){var t=o(e.selections,e.columns,e.rows),c=n(e.selections,e.columns,e.rows);return{isTerminal:t||c,isWinner:t,isCat:c,winner:t?e.currentPlayer:null}},t.getColumnScore=c,t.getRowScore=r,t.getTotalColumnScore=a,t.getTotalRowScore=i,t.getDiagonalScore=s,t.getTotalDiagonalScore=l,t.getTotalReverseDiagonalScore=d,t.getTotalScore=function(e,t,o){return a(e,t,o)+i(e,t,o)+l(e,t,o)+d(e,t,o)}}},t={};function o(n){var c=t[n];if(void 0!==c)return c.exports;var r=t[n]={id:n,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nc=void 0,(()=>{o(744);var e=o(606),t=o(771),n=o(274),c=1600,r=750,a=c/r;function i(){var e=document.getElementById("game");null==e||e.classList.remove("vertical-constraint","horizontal-constraint");var t=window.innerWidth/(window.innerHeight-120);t<0||t>10||(a<t?null==e||e.classList.add("vertical-constraint"):null==e||e.classList.add("horizontal-constraint"))}var s={currentPlayer:"x",columns:3,rows:3,selections:{}};function l(){return document.getElementById("game-canvas")}function u(){var t=l().getContext("2d");t&&(t.clearRect(0,0,c,r),function(e){var t=c/s.columns,o=r/s.rows;e.fillStyle="rgb(0 0 0)";for(var n=1;n<s.columns;n++)e.fillRect(t*n-5,10,10,r-20);for(var a=1;a<s.rows;a++)e.fillRect(10,o*a-5,c-20,10)}(t),setTimeout((function(){Object.keys(s.selections).forEach((function(t){var o=(0,e.coordsToNumberCoords)(t),n=o.x,a=o.y;"x"===s.selections[t]?function(e,t){var o=l().getContext("2d"),n=c/s.columns,a=r/s.rows;if(o){var i=e*n+15,u=t*a+15;o.clearRect(i-10,u-10,n-30,a-30),o.lineWidth=5,o.strokeStyle="rgb(0 0 200)",o.beginPath(),o.moveTo(i,u),o.lineTo(i+n-30,u+a-30),o.moveTo(i+n-30,u),o.lineTo(i,u+a-30),o.stroke()}}(n,a):function(e,t){var o=l().getContext("2d"),n=c/s.columns,a=r/s.rows;if(o){var i=e*n+5,u=t*a+5;o.clearRect(i,u,n-30,a-30);var d=.4*Math.min(n,a)-10;o.lineWidth=5,o.strokeStyle="rgb(200 0 0)",o.beginPath(),o.arc(i+n/2,u+a/2,d,0,2*Math.PI,!1),o.stroke()}}(n,a)}))}),1))}function d(t,o){Object.keys(s.selections).forEach((function(n){var c=(0,e.coordsToNumberCoords)(n),r=c.x,a=c.y;(r>=t||a>=o)&&delete s.selections[n]}))}function f(e){s.columns=Number(e.target.value),d(s.columns,s.rows),u()}function v(e){s.rows=Number(e.target.value),d(s.columns,s.rows),u()}function m(){var e=document.getElementById("result-area"),o=(new Date).getTime();if(e){var c=(0,n.getTotalScore)(s.selections,s.columns,s.rows),r=(0,t.getBestMove)(s);console.log(r),e.textContent=c>0?"Winning ".concat(c,"! Calculated: ").concat((new Date).getTime()-o," ms"):c<0?"Losing ".concat(c,". Calculated: ").concat((new Date).getTime()-o," ms"):"Tie ".concat(c,". Calculated: ").concat((new Date).getTime()-o," ms")}}function g(e){var t=function(e){var t=l(),o=t.offsetLeft+t.clientLeft,n=t.offsetTop+t.clientTop,c=e.pageX-o,r=e.pageY-n;return{x:Math.floor(c/t.clientWidth*s.columns),y:Math.floor(r/t.clientHeight*s.rows)}}(e),o=t.x,n=t.y;switch(s.selections["".concat(o,",").concat(n)]){case"x":s.selections["".concat(o,",").concat(n)]="o";break;case"o":delete s.selections["".concat(o,",").concat(n)];break;default:s.selections["".concat(o,",").concat(n)]="x"}u()}i(),addEventListener("resize",(function(){i()})),window.addEventListener("load",(function(){var e,t,o,n,a,i;e=document.getElementById("column-selector"),t=document.getElementById("row-selector"),o=document.getElementById("calculate-button"),t&&e&&o&&(e.addEventListener("change",f),t.addEventListener("change",v),o.addEventListener("click",m)),n=l(),a=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,i=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,n.width=c,n.height=r,n.style.width="".concat(a),n.style.height="".concat(i),l().addEventListener("click",g,!1),u()}))})()})();