(()=>{"use strict";var t={65:(t,e,o)=>{o.d(e,{Z:()=>i});var n=o(81),c=o.n(n),r=o(645),a=o.n(r)()(c());a.push([t.id,"*{box-sizing:border-box}html,body{height:100%;width:100%;margin:0;padding:0}#start-screen h1{margin-top:0}#game canvas{background:#dfdfdf}#game.vertical-constraint>canvas{width:auto;height:calc(100vh - 112px)}#game.horizontal-constraint>canvas{width:100%;height:auto}.selectors{display:flex;margin:8px}.selectors>*{margin-right:8px}.calculations{display:flex}",""]);const i=a},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var o="",n=void 0!==e[5];return e[4]&&(o+="@supports (".concat(e[4],") {")),e[2]&&(o+="@media ".concat(e[2]," {")),n&&(o+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),o+=t(e),n&&(o+="}"),e[2]&&(o+="}"),e[4]&&(o+="}"),o})).join("")},e.i=function(t,o,n,c,r){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(n)for(var i=0;i<this.length;i++){var s=this[i][0];null!=s&&(a[s]=!0)}for(var l=0;l<t.length;l++){var u=[].concat(t[l]);n&&a[u[0]]||(void 0!==r&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=r),o&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=o):u[2]=o),c&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=c):u[4]="".concat(c)),e.push(u))}},e}},81:t=>{t.exports=function(t){return t[1]}},744:(t,e,o)=>{o.r(e),o.d(e,{default:()=>h});var n=o(379),c=o.n(n),r=o(795),a=o.n(r),i=o(569),s=o.n(i),l=o(565),u=o.n(l),d=o(216),f=o.n(d),v=o(589),m=o.n(v),g=o(65),p={};p.styleTagTransform=m(),p.setAttributes=u(),p.insert=s().bind(null,"head"),p.domAPI=a(),p.insertStyleElement=f(),c()(g.Z,p);const h=g.Z&&g.Z.locals?g.Z.locals:void 0},379:t=>{var e=[];function o(t){for(var o=-1,n=0;n<e.length;n++)if(e[n].identifier===t){o=n;break}return o}function n(t,n){for(var r={},a=[],i=0;i<t.length;i++){var s=t[i],l=n.base?s[0]+n.base:s[0],u=r[l]||0,d="".concat(l," ").concat(u);r[l]=u+1;var f=o(d),v={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==f)e[f].references++,e[f].updater(v);else{var m=c(v,n);n.byIndex=i,e.splice(i,0,{identifier:d,updater:m,references:1})}a.push(d)}return a}function c(t,e){var o=e.domAPI(e);return o.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;o.update(t=e)}else o.remove()}}t.exports=function(t,c){var r=n(t=t||[],c=c||{});return function(t){t=t||[];for(var a=0;a<r.length;a++){var i=o(r[a]);e[i].references--}for(var s=n(t,c),l=0;l<r.length;l++){var u=o(r[l]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}r=s}}},569:t=>{var e={};t.exports=function(t,o){var n=function(t){if(void 0===e[t]){var o=document.querySelector(t);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(t){o=null}e[t]=o}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(o)}},216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,o)=>{t.exports=function(t){var e=o.nc;e&&t.setAttribute("nonce",e)}},795:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(o){!function(t,e,o){var n="";o.supports&&(n+="@supports (".concat(o.supports,") {")),o.media&&(n+="@media ".concat(o.media," {"));var c=void 0!==o.layer;c&&(n+="@layer".concat(o.layer.length>0?" ".concat(o.layer):""," {")),n+=o.css,c&&(n+="}"),o.media&&(n+="}"),o.supports&&(n+="}");var r=o.sourceMap;r&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,o)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},354:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getAvailableMoves=void 0,e.getAvailableMoves=function(t){for(var e=[],o=0;o<t.columns;o++)for(var n=0;n<t.rows;n++)void 0===t.selections["".concat(o,",").concat(n)]&&e.push({x:o,y:n});return e}},606:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.numberCoordsToCoords=e.coordsToNumberCoords=void 0,e.coordsToNumberCoords=function(t){var e=t.split(","),o=e[0],n=e[1];return{x:Number.parseInt(o,10),y:Number.parseInt(n,10)}},e.numberCoordsToCoords=function(t){return"".concat(t.x,",").concat(t.y)}},771:function(t,e,o){var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var c in e=arguments[o])Object.prototype.hasOwnProperty.call(e,c)&&(t[c]=e[c]);return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.getBestMove=e.boardToTranspositionTableKeys=e.boardToTranspositionTableKey=void 0;var c=o(354),r=o(606),a=o(274),i={"___,___,___":{bestScore:0,bestMove:{x:0,y:0}}};function s(t){for(var e,o="",n=0;n<t.columns;n++){for(var c=0;c<t.rows;c++)o+=null!==(e=t.selections["".concat(c,",").concat(n)])&&void 0!==e?e:"_";o+=","}return o.slice(0,-1)}function l(t){for(var e,o,n="",c="",r=0;r<t.columns;r++){for(var a=0;a<t.rows;a++)n+=null!==(e=t.selections["".concat(a,",").concat(r)])&&void 0!==e?e:"_",c+=null!==(o=t.selections["".concat(r,",").concat(a)])&&void 0!==o?o:"_";n+=",",c+=","}return[n=n.slice(0,-1),c=c.slice(0,-1)]}e.boardToTranspositionTableKey=s,e.boardToTranspositionTableKeys=l,e.getBestMove=function t(e,o,u,d,f){void 0===u&&(u=0),void 0===d&&(d=-1e6),void 0===f&&(f=1e6);var v=void 0!==o?o:"x"===e.currentPlayer;if(u>e.maxDepth)return{bestScore:0,bestMove:{x:0,y:0}};for(var m=(0,c.getAvailableMoves)(e),g=m[0],p=v?-1e6:1e6,h=v?1:-1,y=p,b=d,x=f,T=function(o){var c,d=m[o],f=n(n({},e),{currentPlayer:v?"o":"x",selections:n(n({},e.selections),(c={},c[(0,r.numberCoordsToCoords)(d)]=v?"x":"o",c))}),T=(0,a.checkTerminal)(f);if(T.isTerminal){if(T.isWinner)return y=-1*p-u*h,g=d,"break";T.isCat&&(v&&0>y||!v&&0<y)&&(y=0,g=d)}else{var w,S=s(f);i[S]?w=i[S]:(w=t(f,!v,u+1,b,x),l(f).forEach((function(t){i[t]||(i[t]=w)}))),(v&&w.bestScore>y||!v&&w.bestScore<y)&&(y=w.bestScore,g=d,v?b=Math.max(y,b):v||(x=Math.min(y,x)))}if(x<=b)return"break"},w=0;w<m.length&&"break"!==T(w);w++);return{bestScore:y,bestMove:g}}},274:(t,e)=>{function o(t,e,o){return function(t,e,o){for(var n=0;n<e;n++)for(var c=0;c<o-2;c++)if("x"===t["".concat(n,",").concat(c)]&&"x"===t["".concat(n,",").concat(c+1)]&&"x"===t["".concat(n,",").concat(c+2)]||"o"===t["".concat(n,",").concat(c)]&&"o"===t["".concat(n,",").concat(c+1)]&&"o"===t["".concat(n,",").concat(c+2)])return!0;return!1}(t,e,o)||function(t,e,o){for(var n=0;n<e-2;n++)for(var c=0;c<o;c++)if("x"===t["".concat(n,",").concat(c)]&&"x"===t["".concat(n+1,",").concat(c)]&&"x"===t["".concat(n+2,",").concat(c)]||"o"===t["".concat(n,",").concat(c)]&&"o"===t["".concat(n+1,",").concat(c)]&&"o"===t["".concat(n+2,",").concat(c)])return!0;return!1}(t,e,o)||function(t,e,o){for(var n=0;n<e-2;n++)for(var c=0;c<o-2;c++)if("x"===t["".concat(n,",").concat(c)]&&"x"===t["".concat(n+1,",").concat(c+1)]&&"x"===t["".concat(n+2,",").concat(c+2)]||"o"===t["".concat(n,",").concat(c)]&&"o"===t["".concat(n+1,",").concat(c+1)]&&"o"===t["".concat(n+2,",").concat(c+2)])return!0;return!1}(t,e,o)||function(t,e,o){for(var n=2;n<e;n++)for(var c=0;c<o-2;c++)if("x"===t["".concat(n,",").concat(c)]&&"x"===t["".concat(n-1,",").concat(c+1)]&&"x"===t["".concat(n-2,",").concat(c+2)]||"o"===t["".concat(n,",").concat(c)]&&"o"===t["".concat(n-1,",").concat(c+1)]&&"o"===t["".concat(n-2,",").concat(c+2)])return!0;return!1}(t,e,o)}function n(t,e,o){return Object.keys(t).length===e*o}function c(t,e,o){for(var n=0,c=0;c<o;c++)"x"===t["".concat(e,",").concat(c)]?"x"===t["".concat(e,",").concat(c+1)]?"x"===t["".concat(e,",").concat(c+2)]?(n+=1e5,c+=2):(n+=10,c++):n+=1:"o"===t["".concat(e,",").concat(c)]&&("o"===t["".concat(e,",").concat(c+1)]?"o"===t["".concat(e,",").concat(c+2)]?(n-=1e5,c+=2):(n-=10,c++):n-=1);return n}function r(t,e,o){for(var n=0,c=0;c<e;c++)"x"===t["".concat(c,",").concat(o)]?"x"===t["".concat(c+1,",").concat(o)]?"x"===t["".concat(c+2,",").concat(o)]?(n+=1e5,c+=2):(n+=10,c++):n+=1:"o"===t["".concat(c,",").concat(o)]&&("o"===t["".concat(c+1,",").concat(o)]?"o"===t["".concat(c+2,",").concat(o)]?(n-=1e5,c+=2):(n-=10,c++):n-=1);return n}function a(t,e,o){for(var n=0,r=0;r<e;r++)n+=c(t,r,o);return n}function i(t,e,o){for(var n=0,c=0;c<o;c++)n+=r(t,e,c);return n}function s(t,e,o,n){for(var c=n.x,r=n.y,a=0;c<e&&r<o;)"x"===t["".concat(c,",").concat(r)]?"x"===t["".concat(c+1,",").concat(r+1)]?"x"===t["".concat(c+2,",").concat(r+2)]?(a+=1e5,c+=3,r+=3):(a+=10,c+=2,r+=2):(a+=1,c+=1,r+=1):"o"===t["".concat(c,",").concat(r)]?"o"===t["".concat(c+1,",").concat(r+1)]?"o"===t["".concat(c+2,",").concat(r+2)]?(a-=1e5,c+=3,r+=3):(a-=10,c+=2,r+=2):(a-=1,c+=1,r+=1):(c+=1,r+=1);return a}function l(t,e,o){for(var n=0,c=0;c<e;c++)n+=s(t,e,o,{x:c,y:0});for(var r=1;r<o;r++)n+=s(t,e,o,{x:0,y:r});return n}function u(t,e,o,n){for(var c=n.x,r=n.y,a=0;c>=0&&r<o;)"x"===t["".concat(c,",").concat(r)]?"x"===t["".concat(c-1,",").concat(r+1)]?"x"===t["".concat(c-2,",").concat(r+2)]?(a+=1e5,c-=3,r+=3):(a+=10,c-=2,r+=2):(a+=1,c-=1,r+=1):"o"===t["".concat(c,",").concat(r)]?"o"===t["".concat(c-1,",").concat(r+1)]?"o"===t["".concat(c-2,",").concat(r+2)]?(a-=1e5,c-=3,r+=3):(a-=10,c-=2,r+=2):(a-=1,c-=1,r+=1):(c-=1,r+=1);return a}function d(t,e,o){for(var n=0,c=0;c<e;c++)n+=u(t,0,o,{x:c,y:0});for(var r=1;r<o;r++)n+=u(t,0,o,{x:3,y:r});return n}Object.defineProperty(e,"__esModule",{value:!0}),e.getTotalScore=e.getTotalReverseDiagonalScore=e.getTotalDiagonalScore=e.getDiagonalScore=e.getTotalRowScore=e.getTotalColumnScore=e.getRowScore=e.getColumnScore=e.checkTerminal=e.isCat=e.isWin=void 0,e.isWin=o,e.isCat=n,e.checkTerminal=function(t){var e=o(t.selections,t.columns,t.rows),c=n(t.selections,t.columns,t.rows);return{isTerminal:e||c,isWinner:e,isCat:c,winner:e?t.currentPlayer:null}},e.getColumnScore=c,e.getRowScore=r,e.getTotalColumnScore=a,e.getTotalRowScore=i,e.getDiagonalScore=s,e.getTotalDiagonalScore=l,e.getTotalReverseDiagonalScore=d,e.getTotalScore=function(t,e,o){return a(t,e,o)+i(t,e,o)+l(t,e,o)+d(t,e,o)}}},e={};function o(n){var c=e[n];if(void 0!==c)return c.exports;var r=e[n]={id:n,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.exports}o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.nc=void 0,(()=>{o(744);var t=o(606),e=o(771),n=o(274),c=1600,r=750,a=c/r;function i(){var t=document.getElementById("game");null==t||t.classList.remove("vertical-constraint","horizontal-constraint");var e=window.innerWidth/(window.innerHeight-120);e<0||e>10||(a<e?null==t||t.classList.add("vertical-constraint"):null==t||t.classList.add("horizontal-constraint"))}var s={currentPlayer:"x",columns:3,rows:3,maxDepth:1200,selections:{}};function l(){return document.getElementById("game-canvas")}function u(){var e=l().getContext("2d");e&&(e.clearRect(0,0,c,r),function(t){var e=c/s.columns,o=r/s.rows;t.fillStyle="rgb(0 0 0)";for(var n=1;n<s.columns;n++)t.fillRect(e*n-5,10,10,r-20);for(var a=1;a<s.rows;a++)t.fillRect(10,o*a-5,c-20,10)}(e),setTimeout((function(){Object.keys(s.selections).forEach((function(e){var o=(0,t.coordsToNumberCoords)(e),n=o.x,a=o.y;"x"===s.selections[e]?function(t,e){var o=l().getContext("2d"),n=c/s.columns,a=r/s.rows;if(o){var i=t*n+15,u=e*a+15;o.clearRect(i-10,u-10,n-30,a-30),o.lineWidth=5,o.strokeStyle="rgb(0 0 200)",o.beginPath(),o.moveTo(i,u),o.lineTo(i+n-30,u+a-30),o.moveTo(i+n-30,u),o.lineTo(i,u+a-30),o.stroke()}}(n,a):function(t,e){var o=l().getContext("2d"),n=c/s.columns,a=r/s.rows;if(o){var i=t*n+5,u=e*a+5;o.clearRect(i,u,n-30,a-30);var d=.4*Math.min(n,a)-10;o.lineWidth=5,o.strokeStyle="rgb(200 0 0)",o.beginPath(),o.arc(i+n/2,u+a/2,d,0,2*Math.PI,!1),o.stroke()}}(n,a)}))}),1))}function d(e,o){Object.keys(s.selections).forEach((function(n){var c=(0,t.coordsToNumberCoords)(n),r=c.x,a=c.y;(r>=e||a>=o)&&delete s.selections[n]}))}function f(t){s.columns=Number(t.target.value),d(s.columns,s.rows),u()}function v(t){s.rows=Number(t.target.value),d(s.columns,s.rows),u()}function m(t){var e=document.getElementById("result-area");e&&(e.textContent="depth changed to ".concat(t.target.value)),s.maxDepth=Number(t.target.value)}function g(){var t=document.getElementById("result-area"),o=(new Date).getTime();if(t){t.textContent="Calculating ".concat(s.columns,"x").concat(s.rows," with depth ").concat(s.maxDepth,"...");var c=(0,n.getTotalScore)(s.selections,s.columns,s.rows);setTimeout((function(){var n=(0,e.getBestMove)(s),r="Terminal ".concat(n.bestScore," at ").concat(n.bestMove.x,",").concat(n.bestMove.y,"."),a="Calculated: ".concat((new Date).getTime()-o," ms");t.textContent=c>0?"Winning ".concat(c,". ").concat(r," ").concat(a):c<0?"Losing ".concat(c,". ").concat(r," ").concat(a):"Tie ".concat(c,". ").concat(r," ").concat(a)}),1)}}function p(t){var e=function(t){var e=l(),o=e.offsetLeft+e.clientLeft,n=e.offsetTop+e.clientTop,c=t.pageX-o,r=t.pageY-n;return{x:Math.floor(c/e.clientWidth*s.columns),y:Math.floor(r/e.clientHeight*s.rows)}}(t),o=e.x,n=e.y;switch(s.selections["".concat(o,",").concat(n)]){case"x":s.selections["".concat(o,",").concat(n)]="o";break;case"o":delete s.selections["".concat(o,",").concat(n)];break;default:s.selections["".concat(o,",").concat(n)]="x"}u()}i(),addEventListener("resize",(function(){i()})),window.addEventListener("load",(function(){var t,e,o,n,a,i,s;t=document.getElementById("column-selector"),e=document.getElementById("row-selector"),o=document.getElementById("depth-selector"),n=document.getElementById("calculate-button"),e&&t&&n&&o&&(t.addEventListener("change",f),e.addEventListener("change",v),o.addEventListener("change",m),n.addEventListener("click",g)),a=l(),i=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,s=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,a.width=c,a.height=r,a.style.width="".concat(i),a.style.height="".concat(s),l().addEventListener("click",p,!1),u()}))})()})();